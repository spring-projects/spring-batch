<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/org.springframework.batch.integration.chunk.html">org.springframework.batch.integration.chunk</a> &gt; RemoteChunkFaultTolerantStepJdbcIntegrationTests</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">4</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">2.653s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">testFailedStep</td>
<td>1.617s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testFailedStepOnError</td>
<td>0.365s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSkipsInWriter</td>
<td>0.415s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSunnyDayFaultTolerant</td>
<td>0.256s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>2017-03-23 10:04:45,225 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:45,232  INFO Test worker [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - &lt;Loading XML bean definitions from class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]&gt;
2017-03-23 10:04:45,270 DEBUG task-scheduler-6 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:45,352  INFO Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.&gt;
2017-03-23 10:04:45,352 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;The '#jsonPath' SpEL function cannot be registered: there is no jayway json-path.jar on the classpath.&gt;
2017-03-23 10:04:45,353 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;SpEL function '#xpath' isn't registered: there is no spring-integration-xml.jar on the classpath.&gt;
2017-03-23 10:04:45,409  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Refreshing org.springframework.context.support.GenericApplicationContext@6bb13034: startup date [Thu Mar 23 10:04:45 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:45,540  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'reader' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.TestItemReader]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:45,540  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'chunkWriter' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:45,551  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.&gt;
2017-03-23 10:04:45,551  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.&gt;
2017-03-23 10:04:45,553  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:45,604  INFO Test worker [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - &lt;Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [class org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)&gt;
2017-03-23 10:04:45,607  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:46,229 DEBUG task-scheduler-3 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:46,286 DEBUG task-scheduler-7 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:46,668  INFO Test worker [org.springframework.batch.core.repository.support.JobRepositoryFactoryBean] - &lt;No database type set, using meta data indicating: HSQL&gt;
2017-03-23 10:04:47,234 DEBUG task-scheduler-4 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:47,273  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:47,300 DEBUG task-scheduler-8 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:47,407  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:47,418 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Converting TaskletStep with name=step&gt;
2017-03-23 10:04:47,418 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [tasklet] from target [TaskletStep: [name=step]]&gt;
2017-03-23 10:04:47,418 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@38a0a25a]&gt;
2017-03-23 10:04:47,418 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [itemWriter] from target [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor@d134c93]&gt;
2017-03-23 10:04:47,418 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@38a0a25a]&gt;
2017-03-23 10:04:47,536  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;No TaskExecutor has been set, defaulting to synchronous executor.&gt;
2017-03-23 10:04:47,541  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:47,576 DEBUG Test worker [org.springframework.integration.config.GlobalChannelInterceptorProcessor] - &lt;No global channel interceptors.&gt;
2017-03-23 10:04:47,649  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 0&gt;
2017-03-23 10:04:47,649  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:47,649  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@6bb13034.errorChannel' has 1 subscriber(s).&gt;
2017-03-23 10:04:47,649  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;started _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:47,649  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 1073741823&gt;
2017-03-23 10:04:47,664  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;started org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:47,952  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] launched with the following parameters: [{item.three=unsupported}]&gt;
2017-03-23 10:04:47,953 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution starting: JobExecution: id=0, version=0, startTime=null, endTime=null, lastUpdated=Thu Mar 23 10:04:47 CDT 2017, status=STARTING, exitStatus=exitCode=UNKNOWN;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=unsupported}]&gt;
2017-03-23 10:04:47,957 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Resuming state=job.step with status=UNKNOWN&gt;
2017-03-23 10:04:47,957 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.step&gt;
2017-03-23 10:04:47,979  INFO Test worker [org.springframework.batch.core.job.SimpleStepHandler] - &lt;Executing step: [step]&gt;
2017-03-23 10:04:47,980 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Executing: id=0&gt;
2017-03-23 10:04:47,983 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.chunkWriter&gt;
2017-03-23 10:04:47,992 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@6979f241&gt;
2017-03-23 10:04:47,992 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:47,992 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.reader&gt;
2017-03-23 10:04:47,996 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 1&gt;
2017-03-23 10:04:47,996 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 2&gt;
2017-03-23 10:04:47,997 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:47,997 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=2633e12e-445b-92d6-cd66-4310bacca30e, timestamp=1490281487997}]&gt;
2017-03-23 10:04:48,000 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,006 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=2633e12e-445b-92d6-cd66-4310bacca30e&gt;
2017-03-23 10:04:48,017 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=2633e12e-445b-92d6-cd66-4310bacca30e and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,027 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=2633e12e-445b-92d6-cd66-4310bacca30e, timestamp=1490281487997}]&gt;
2017-03-23 10:04:48,027 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:48,027 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,029 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=1, name=step, status=STARTED, exitStatus=EXECUTING, readCount=2, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:48,033 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@6979f241&gt;
2017-03-23 10:04:48,033 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:48,033 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading unsupported&gt;
2017-03-23 10:04:48,034 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 4&gt;
2017-03-23 10:04:48,034 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,034 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,038 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:48.035&gt;
2017-03-23 10:04:48,039 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06&gt;
2017-03-23 10:04:48,040 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06 and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,041 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,041 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:48,041 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,043 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=2, name=step, status=STARTED, exitStatus=EXECUTING, readCount=4, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=2, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:48,047 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@6979f241&gt;
2017-03-23 10:04:48,047 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:48,048 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 5&gt;
2017-03-23 10:04:48,048 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 6&gt;
2017-03-23 10:04:48,048 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,048 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=20b17ed9-2224-350a-a900-610f21c1e6cb, timestamp=1490281488048}]&gt;
2017-03-23 10:04:48,048 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,055 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,056 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=2633e12e-445b-92d6-cd66-4310bacca30e, timestamp=1490281487997}]&gt;
2017-03-23 10:04:48,056 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=2633e12e-445b-92d6-cd66-4310bacca30e, timestamp=1490281487997}]&gt;
2017-03-23 10:04:48,056 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=2633e12e-445b-92d6-cd66-4310bacca30e, timestamp=1490281487997}]&gt;
2017-03-23 10:04:48,057 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,058 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:48,058 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 1&gt;
2017-03-23 10:04:48,059 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 2&gt;
2017-03-23 10:04:48,059 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,059 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78105247-3eb7-8996-73e2-01cbd69adc51, timestamp=1490281488059}]&gt;
2017-03-23 10:04:48,060 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:48.058&gt;
2017-03-23 10:04:48,061 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,062 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=78105247-3eb7-8996-73e2-01cbd69adc51&gt;
2017-03-23 10:04:48,063 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=78105247-3eb7-8996-73e2-01cbd69adc51 and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,064 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78105247-3eb7-8996-73e2-01cbd69adc51, timestamp=1490281488059}]&gt;
2017-03-23 10:04:48,070 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=20b17ed9-2224-350a-a900-610f21c1e6cb&gt;
2017-03-23 10:04:48,071 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=20b17ed9-2224-350a-a900-610f21c1e6cb and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,073 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=20b17ed9-2224-350a-a900-610f21c1e6cb, timestamp=1490281488048}]&gt;
2017-03-23 10:04:48,073 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:48,073 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,074 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=3, name=step, status=STARTED, exitStatus=EXECUTING, readCount=6, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=3, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:48,077 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@6979f241&gt;
2017-03-23 10:04:48,077 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:48,078 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 7&gt;
2017-03-23 10:04:48,078 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 8&gt;
2017-03-23 10:04:48,078 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,078 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,078 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4, timestamp=1490281488078}]&gt;
2017-03-23 10:04:48,079 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,080 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,080 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,080 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,081 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,081 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:48,081 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: unsupported&gt;
2017-03-23 10:04:48,081 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Checking for rethrow: count=0&gt;
2017-03-23 10:04:48,081 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Rethrow in retry for policy: count=0&gt;
2017-03-23 10:04:48,084 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:48.082&gt;
2017-03-23 10:04:48,085 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;preSend on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}], headers={id=7b01ecc8-7947-ec9e-418d-4f753a455dd2, timestamp=1490281488085}]&gt;
2017-03-23 10:04:48,086 DEBUG task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;_org.springframework.integration.errorLogger.handler received message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}], headers={id=7b01ecc8-7947-ec9e-418d-4f753a455dd2, timestamp=1490281488085}]&gt;
2017-03-23 10:04:48,086 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4&gt;
2017-03-23 10:04:48,087 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4 and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,088 ERROR task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;org.springframework.messaging.MessageHandlingException: nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:96)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsupportedOperationException: Planned failure on: unsupported
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:63)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	... 35 more
&gt;
2017-03-23 10:04:48,089 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;postSend (sent=true) on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}], headers={id=7b01ecc8-7947-ec9e-418d-4f753a455dd2, timestamp=1490281488085}]&gt;
2017-03-23 10:04:48,089 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4, timestamp=1490281488078}]&gt;
2017-03-23 10:04:48,089 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:48,089 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,091 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=4, name=step, status=STARTED, exitStatus=EXECUTING, readCount=8, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=4, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:48,094 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@6979f241&gt;
2017-03-23 10:04:48,094 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:48,094 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 9&gt;
2017-03-23 10:04:48,094 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:48,095 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987, timestamp=1490281488094}]&gt;
2017-03-23 10:04:48,098 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:48.097&gt;
2017-03-23 10:04:48,098 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987&gt;
2017-03-23 10:04:48,100 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987 and created date=2017-03-23 10:04:47.998&gt;
2017-03-23 10:04:48,101 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987, timestamp=1490281488094}]&gt;
2017-03-23 10:04:48,101 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: true&gt;
2017-03-23 10:04:48,101 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=1, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,102 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=5, name=step, status=STARTED, exitStatus=EXECUTING, readCount=9, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:48,104 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution success: id=0&gt;
2017-03-23 10:04:48,105 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for results in step listener...&gt;
2017-03-23 10:04:48,105  INFO Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for 5 results&gt;
2017-03-23 10:04:48,109 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,111 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,112 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78105247-3eb7-8996-73e2-01cbd69adc51, timestamp=1490281488059}]&gt;
2017-03-23 10:04:48,112 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:48,198 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,201 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a300fe7c-b4af-750e-e1bf-c0f6e3be9c06, timestamp=1490281488034}]&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:48,202 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:48,203 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Checking skip policy after failed write&gt;
2017-03-23 10:04:48,203 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Failed chunk&gt;
org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.checkSkipPolicy(FaultTolerantChunkProcessor.java:537)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.access$1000(FaultTolerantChunkProcessor.java:52)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$4.recover(FaultTolerantChunkProcessor.java:374)
	at org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate.handleRetryExhausted(BatchRetryTemplate.java:183)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:350)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.UnsupportedOperationException: Planned failure on: unsupported
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:63)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	... 55 more
2017-03-23 10:04:48,204 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=04dea1fc-a974-08d7-b06f-670bddc67038, timestamp=1490281488204}]&gt;
2017-03-23 10:04:48,208 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:48.206&gt;
2017-03-23 10:04:48,209 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=04dea1fc-a974-08d7-b06f-670bddc67038&gt;
2017-03-23 10:04:48,210 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=04dea1fc-a974-08d7-b06f-670bddc67038 and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,211 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=04dea1fc-a974-08d7-b06f-670bddc67038, timestamp=1490281488204}]&gt;
2017-03-23 10:04:48,218 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,218 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,220 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=20b17ed9-2224-350a-a900-610f21c1e6cb, timestamp=1490281488048}]&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=20b17ed9-2224-350a-a900-610f21c1e6cb, timestamp=1490281488048}]&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=20b17ed9-2224-350a-a900-610f21c1e6cb, timestamp=1490281488048}]&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 5&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 6&gt;
2017-03-23 10:04:48,221 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,222 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=ea250282-89d8-387a-be6e-9f8ad9bb9c7d, timestamp=1490281488221}]&gt;
2017-03-23 10:04:48,222 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,223 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=04dea1fc-a974-08d7-b06f-670bddc67038, timestamp=1490281488204}]&gt;
2017-03-23 10:04:48,223 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false&gt;
2017-03-23 10:04:48,223 ERROR Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Detected error in remote result. Trying to recover 3 outstanding results before completing.&gt;
org.springframework.batch.integration.chunk.AsynchronousFailureException: Failure or interrupt detected in handler: org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.getNextResult(ChunkMessageChannelItemWriter.java:243)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.waitForResults(ChunkMessageChannelItemWriter.java:197)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.afterStep(ChunkMessageChannelItemWriter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy41.afterStep(Unknown Source)
	at org.springframework.batch.core.listener.CompositeStepExecutionListener.afterStep(CompositeStepExecutionListener.java:62)
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:239)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)
	at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64)
	at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)
	at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)
	at org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests.testFailedStep(RemoteChunkFaultTolerantStepJdbcIntegrationTests.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:250)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:189)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy3.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:147)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:129)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:48,226 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:48.224&gt;
2017-03-23 10:04:48,227 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=ea250282-89d8-387a-be6e-9f8ad9bb9c7d&gt;
2017-03-23 10:04:48,228 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=ea250282-89d8-387a-be6e-9f8ad9bb9c7d and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,230 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=ea250282-89d8-387a-be6e-9f8ad9bb9c7d, timestamp=1490281488221}]&gt;
2017-03-23 10:04:48,236 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,236 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,237 DEBUG task-scheduler-2 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:48,238 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,239 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4, timestamp=1490281488078}]&gt;
2017-03-23 10:04:48,239 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4, timestamp=1490281488078}]&gt;
2017-03-23 10:04:48,239 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=6aa157de-8c8b-0cbb-d8f7-38425d1a26d4, timestamp=1490281488078}]&gt;
2017-03-23 10:04:48,239 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:48,240 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=ea250282-89d8-387a-be6e-9f8ad9bb9c7d, timestamp=1490281488221}]&gt;
2017-03-23 10:04:48,240 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 7&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 8&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,240 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=50571463-293a-b389-a994-2a53c1b75fcd, timestamp=1490281488240}]&gt;
2017-03-23 10:04:48,244 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:48.243&gt;
2017-03-23 10:04:48,244 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=50571463-293a-b389-a994-2a53c1b75fcd&gt;
2017-03-23 10:04:48,245 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=50571463-293a-b389-a994-2a53c1b75fcd and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,247 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=50571463-293a-b389-a994-2a53c1b75fcd, timestamp=1490281488240}]&gt;
2017-03-23 10:04:48,251 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,251 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,253 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:48,253 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:48,253 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987, timestamp=1490281488094}]&gt;
2017-03-23 10:04:48,253 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=50571463-293a-b389-a994-2a53c1b75fcd, timestamp=1490281488240}]&gt;
2017-03-23 10:04:48,253 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987, timestamp=1490281488094}]&gt;
2017-03-23 10:04:48,253 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:48,254 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@577c262c] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=1a277d5a-afe2-0fd7-ac8d-fdf692d7d987, timestamp=1490281488094}]&gt;
2017-03-23 10:04:48,254 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:48,254 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:48,254 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 9&gt;
2017-03-23 10:04:48,254 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:48,255 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b7328d4a-6fe0-b962-6757-0e42be587dbc, timestamp=1490281488255}]&gt;
2017-03-23 10:04:48,257 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:48.256&gt;
2017-03-23 10:04:48,258 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=b7328d4a-6fe0-b962-6757-0e42be587dbc&gt;
2017-03-23 10:04:48,259 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=b7328d4a-6fe0-b962-6757-0e42be587dbc and created date=2017-03-23 10:04:48.06&gt;
2017-03-23 10:04:48,260 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b7328d4a-6fe0-b962-6757-0e42be587dbc, timestamp=1490281488255}]&gt;
2017-03-23 10:04:48,316 DEBUG task-scheduler-8 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:49,242 DEBUG task-scheduler-5 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:49,265 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:49,267 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:49,267 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b7328d4a-6fe0-b962-6757-0e42be587dbc, timestamp=1490281488255}]&gt;
2017-03-23 10:04:49,267 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:49,267 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Detected failure waiting for results in step listener.&gt;
org.springframework.batch.integration.chunk.AsynchronousFailureException: Failure or interrupt detected in handler: org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.UnsupportedOperationException: Planned failure on: unsupported
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.getNextResult(ChunkMessageChannelItemWriter.java:243)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.waitForResults(ChunkMessageChannelItemWriter.java:197)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.afterStep(ChunkMessageChannelItemWriter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy41.afterStep(Unknown Source)
	at org.springframework.batch.core.listener.CompositeStepExecutionListener.afterStep(CompositeStepExecutionListener.java:62)
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:239)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)
	at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64)
	at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)
	at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)
	at org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests.testFailedStep(RemoteChunkFaultTolerantStepJdbcIntegrationTests.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:250)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:189)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy3.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:147)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:129)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.  Still expecting: 0&gt;
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false&gt;
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:49,269 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:49,270 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:49,273 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution complete: StepExecution: id=0, version=7, name=step, status=FAILED, exitStatus=FAILED, readCount=9, filterCount=0, writeCount=7 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0&gt;
2017-03-23 10:04:49,275 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.step with status=FAILED&gt;
2017-03-23 10:04:49,275 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.fail2&gt;
2017-03-23 10:04:49,275 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.fail2 with status=FAILED&gt;
2017-03-23 10:04:49,276 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution complete: JobExecution: id=0, version=1, startTime=Thu Mar 23 10:04:47 CDT 2017, endTime=null, lastUpdated=Thu Mar 23 10:04:47 CDT 2017, status=FAILED, exitStatus=exitCode=FAILED;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=unsupported}]&gt;
2017-03-23 10:04:49,280  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] completed with the following parameters: [{item.three=unsupported}] and the following status: [FAILED]&gt;
2017-03-23 10:04:49,281  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Closing org.springframework.context.support.GenericApplicationContext@6bb13034: startup date [Thu Mar 23 10:04:45 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:49,283  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 1073741823&gt;
2017-03-23 10:04:49,284  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:49,285  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 0&gt;
2017-03-23 10:04:49,285  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:49,285  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@6bb13034.errorChannel' has 0 subscriber(s).&gt;
2017-03-23 10:04:49,285  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;stopped _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:49,290  INFO Test worker [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - &lt;Loading XML bean definitions from class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]&gt;
2017-03-23 10:04:49,332 DEBUG task-scheduler-10 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:49,375  INFO Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.&gt;
2017-03-23 10:04:49,376 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;The '#jsonPath' SpEL function cannot be registered: there is no jayway json-path.jar on the classpath.&gt;
2017-03-23 10:04:49,377 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;SpEL function '#xpath' isn't registered: there is no spring-integration-xml.jar on the classpath.&gt;
2017-03-23 10:04:49,381  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Refreshing org.springframework.context.support.GenericApplicationContext@3c65556e: startup date [Thu Mar 23 10:04:49 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:49,423  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'reader' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.TestItemReader]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:49,423  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'chunkWriter' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:49,429  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.&gt;
2017-03-23 10:04:49,430  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.&gt;
2017-03-23 10:04:49,431  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:49,463  INFO Test worker [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - &lt;Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [class org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)&gt;
2017-03-23 10:04:49,465  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:49,495  INFO Test worker [org.springframework.batch.core.repository.support.JobRepositoryFactoryBean] - &lt;No database type set, using meta data indicating: HSQL&gt;
2017-03-23 10:04:49,546  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:49,667  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:49,678 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Converting TaskletStep with name=step&gt;
2017-03-23 10:04:49,678 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [tasklet] from target [TaskletStep: [name=step]]&gt;
2017-03-23 10:04:49,679 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@11f26c2b]&gt;
2017-03-23 10:04:49,679 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [itemWriter] from target [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor@73639df4]&gt;
2017-03-23 10:04:49,679 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@11f26c2b]&gt;
2017-03-23 10:04:49,764  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;No TaskExecutor has been set, defaulting to synchronous executor.&gt;
2017-03-23 10:04:49,770  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:49,811 DEBUG Test worker [org.springframework.integration.config.GlobalChannelInterceptorProcessor] - &lt;No global channel interceptors.&gt;
2017-03-23 10:04:49,925  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 0&gt;
2017-03-23 10:04:49,925  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:49,925  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@3c65556e.errorChannel' has 1 subscriber(s).&gt;
2017-03-23 10:04:49,925  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;started _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:49,925  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 1073741823&gt;
2017-03-23 10:04:49,926  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;started org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:50,052  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] launched with the following parameters: [{item.three=fail, run.id=1}]&gt;
2017-03-23 10:04:50,053 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution starting: JobExecution: id=0, version=0, startTime=null, endTime=null, lastUpdated=Thu Mar 23 10:04:50 CDT 2017, status=STARTING, exitStatus=exitCode=UNKNOWN;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=fail, run.id=1}]&gt;
2017-03-23 10:04:50,056 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Resuming state=job.step with status=UNKNOWN&gt;
2017-03-23 10:04:50,056 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.step&gt;
2017-03-23 10:04:50,074  INFO Test worker [org.springframework.batch.core.job.SimpleStepHandler] - &lt;Executing step: [step]&gt;
2017-03-23 10:04:50,074 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Executing: id=0&gt;
2017-03-23 10:04:50,077 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.chunkWriter&gt;
2017-03-23 10:04:50,085 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@5e5f4630&gt;
2017-03-23 10:04:50,085 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:50,086 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.reader&gt;
2017-03-23 10:04:50,090 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 1&gt;
2017-03-23 10:04:50,091 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 2&gt;
2017-03-23 10:04:50,091 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,091 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3, timestamp=1490281490091}]&gt;
2017-03-23 10:04:50,093 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,093 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3&gt;
2017-03-23 10:04:50,094 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3 and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,096 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3, timestamp=1490281490091}]&gt;
2017-03-23 10:04:50,096 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:50,096 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,097 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=1, name=step, status=STARTED, exitStatus=EXECUTING, readCount=2, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:50,100 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@5e5f4630&gt;
2017-03-23 10:04:50,100 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:50,100 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading fail&gt;
2017-03-23 10:04:50,100 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 4&gt;
2017-03-23 10:04:50,101 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,101 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,103 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:50.102&gt;
2017-03-23 10:04:50,104 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=0414084f-88e8-2a06-48c8-39b8c3e8759a&gt;
2017-03-23 10:04:50,105 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=0414084f-88e8-2a06-48c8-39b8c3e8759a and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,106 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,106 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:50,106 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,108 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=2, name=step, status=STARTED, exitStatus=EXECUTING, readCount=4, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=2, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:50,111 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,111 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@5e5f4630&gt;
2017-03-23 10:04:50,111 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:50,111 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 5&gt;
2017-03-23 10:04:50,111 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 6&gt;
2017-03-23 10:04:50,112 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,112 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=928ab0d6-df25-0b8d-7136-9f885d123235, timestamp=1490281490112}]&gt;
2017-03-23 10:04:50,113 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,114 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3, timestamp=1490281490091}]&gt;
2017-03-23 10:04:50,114 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3, timestamp=1490281490091}]&gt;
2017-03-23 10:04:50,114 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=fe3d9f54-e5c8-d1a2-19cf-f3f29e71b0b3, timestamp=1490281490091}]&gt;
2017-03-23 10:04:50,115 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,115 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:50,115 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 1&gt;
2017-03-23 10:04:50,115 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 2&gt;
2017-03-23 10:04:50,115 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,116 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78d28e3c-4f60-26f2-c3ca-c312dbf914ef, timestamp=1490281490116}]&gt;
2017-03-23 10:04:50,117 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:50.115&gt;
2017-03-23 10:04:50,117 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,118 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=78d28e3c-4f60-26f2-c3ca-c312dbf914ef&gt;
2017-03-23 10:04:50,119 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=78d28e3c-4f60-26f2-c3ca-c312dbf914ef and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,120 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78d28e3c-4f60-26f2-c3ca-c312dbf914ef, timestamp=1490281490116}]&gt;
2017-03-23 10:04:50,124 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=928ab0d6-df25-0b8d-7136-9f885d123235&gt;
2017-03-23 10:04:50,125 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=928ab0d6-df25-0b8d-7136-9f885d123235 and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,128 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=928ab0d6-df25-0b8d-7136-9f885d123235, timestamp=1490281490112}]&gt;
2017-03-23 10:04:50,129 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:50,129 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,130 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=3, name=step, status=STARTED, exitStatus=EXECUTING, readCount=6, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=3, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:50,132 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@5e5f4630&gt;
2017-03-23 10:04:50,132 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:50,132 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 7&gt;
2017-03-23 10:04:50,133 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 8&gt;
2017-03-23 10:04:50,133 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,133 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,133 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585, timestamp=1490281490133}]&gt;
2017-03-23 10:04:50,134 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,134 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,134 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,134 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,135 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,135 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:50,135 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: fail&gt;
2017-03-23 10:04:50,135 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Checking for rethrow: count=0&gt;
2017-03-23 10:04:50,135 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Rethrow in retry for policy: count=0&gt;
2017-03-23 10:04:50,136 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;preSend on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Planned failure on: fail, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}], headers={id=5b59003b-148f-1038-7fc5-97bbefe7a081, timestamp=1490281490136}]&gt;
2017-03-23 10:04:50,136 DEBUG task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;_org.springframework.integration.errorLogger.handler received message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Planned failure on: fail, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}], headers={id=5b59003b-148f-1038-7fc5-97bbefe7a081, timestamp=1490281490136}]&gt;
2017-03-23 10:04:50,137 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:50.135&gt;
2017-03-23 10:04:50,137 ERROR task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Planned failure on: fail, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:96)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: Planned failure on: fail
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:59)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	... 35 more
&gt;
2017-03-23 10:04:50,138 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585&gt;
2017-03-23 10:04:50,138 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;postSend (sent=true) on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Planned failure on: fail, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}], headers={id=5b59003b-148f-1038-7fc5-97bbefe7a081, timestamp=1490281490136}]&gt;
2017-03-23 10:04:50,139 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585 and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,141 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585, timestamp=1490281490133}]&gt;
2017-03-23 10:04:50,141 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:50,141 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,144 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=4, name=step, status=STARTED, exitStatus=EXECUTING, readCount=8, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=4, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:50,148 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@5e5f4630&gt;
2017-03-23 10:04:50,148 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:50,149 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 9&gt;
2017-03-23 10:04:50,149 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:50,149 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=f321a123-f969-bcfd-329b-67c433149dca, timestamp=1490281490149}]&gt;
2017-03-23 10:04:50,151 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:50.15&gt;
2017-03-23 10:04:50,152 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f321a123-f969-bcfd-329b-67c433149dca&gt;
2017-03-23 10:04:50,153 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f321a123-f969-bcfd-329b-67c433149dca and created date=2017-03-23 10:04:50.092&gt;
2017-03-23 10:04:50,155 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=f321a123-f969-bcfd-329b-67c433149dca, timestamp=1490281490149}]&gt;
2017-03-23 10:04:50,156 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: true&gt;
2017-03-23 10:04:50,156 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=1, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,157 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=5, name=step, status=STARTED, exitStatus=EXECUTING, readCount=9, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:50,162 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution success: id=0&gt;
2017-03-23 10:04:50,162 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for results in step listener...&gt;
2017-03-23 10:04:50,162  INFO Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for 5 results&gt;
2017-03-23 10:04:50,167 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,170 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,170 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=78d28e3c-4f60-26f2-c3ca-c312dbf914ef, timestamp=1490281490116}]&gt;
2017-03-23 10:04:50,170 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,247 DEBUG task-scheduler-5 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:50,247 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,257 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,258 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,258 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,258 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=0414084f-88e8-2a06-48c8-39b8c3e8759a, timestamp=1490281490101}]&gt;
2017-03-23 10:04:50,259 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,259 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:50,259 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:50,260 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Checking skip policy after failed write&gt;
2017-03-23 10:04:50,260 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Skipping after failed write&gt;
java.lang.IllegalStateException: Planned failure on: fail
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:59)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:50,261 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Checking skip policy after failed write&gt;
2017-03-23 10:04:50,261 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Skipping after failed write&gt;
java.lang.IllegalStateException: Planned failure on: fail
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:59)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:50,263 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,263 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1da7d2ed-7c3a-0321-e860-d7315d274079, timestamp=1490281490263}]&gt;
2017-03-23 10:04:50,266 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:50.265&gt;
2017-03-23 10:04:50,266 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1da7d2ed-7c3a-0321-e860-d7315d274079&gt;
2017-03-23 10:04:50,267 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1da7d2ed-7c3a-0321-e860-d7315d274079 and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,269 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1da7d2ed-7c3a-0321-e860-d7315d274079, timestamp=1490281490263}]&gt;
2017-03-23 10:04:50,274 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,276 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,277 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=928ab0d6-df25-0b8d-7136-9f885d123235, timestamp=1490281490112}]&gt;
2017-03-23 10:04:50,277 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=928ab0d6-df25-0b8d-7136-9f885d123235, timestamp=1490281490112}]&gt;
2017-03-23 10:04:50,277 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=928ab0d6-df25-0b8d-7136-9f885d123235, timestamp=1490281490112}]&gt;
2017-03-23 10:04:50,277 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,278 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:50,278 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 5&gt;
2017-03-23 10:04:50,278 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 6&gt;
2017-03-23 10:04:50,278 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,278 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=bc514a83-0072-f059-915e-dd8fa3fcb0d1, timestamp=1490281490278}]&gt;
2017-03-23 10:04:50,284 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,288 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,290 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1da7d2ed-7c3a-0321-e860-d7315d274079, timestamp=1490281490263}]&gt;
2017-03-23 10:04:50,290 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,292 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:50.291&gt;
2017-03-23 10:04:50,293 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=bc514a83-0072-f059-915e-dd8fa3fcb0d1&gt;
2017-03-23 10:04:50,293 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=bc514a83-0072-f059-915e-dd8fa3fcb0d1 and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,295 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=bc514a83-0072-f059-915e-dd8fa3fcb0d1, timestamp=1490281490278}]&gt;
2017-03-23 10:04:50,299 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,299 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,300 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,300 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585, timestamp=1490281490133}]&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585, timestamp=1490281490133}]&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=f5f5c7e4-ad18-9f7f-26b3-54c69e4e7585, timestamp=1490281490133}]&gt;
2017-03-23 10:04:50,301 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=bc514a83-0072-f059-915e-dd8fa3fcb0d1, timestamp=1490281490278}]&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:50,301 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 7&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 8&gt;
2017-03-23 10:04:50,301 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,302 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d08d0cdc-fd9c-174c-ac7b-cfa0735ff01c, timestamp=1490281490301}]&gt;
2017-03-23 10:04:50,304 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:50.303&gt;
2017-03-23 10:04:50,305 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d08d0cdc-fd9c-174c-ac7b-cfa0735ff01c&gt;
2017-03-23 10:04:50,305 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d08d0cdc-fd9c-174c-ac7b-cfa0735ff01c and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,306 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d08d0cdc-fd9c-174c-ac7b-cfa0735ff01c, timestamp=1490281490301}]&gt;
2017-03-23 10:04:50,311 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,312 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:50,312 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=f321a123-f969-bcfd-329b-67c433149dca, timestamp=1490281490149}]&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=f321a123-f969-bcfd-329b-67c433149dca, timestamp=1490281490149}]&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@1232a7f0] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=f321a123-f969-bcfd-329b-67c433149dca, timestamp=1490281490149}]&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:50,313 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 9&gt;
2017-03-23 10:04:50,314 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:50,314 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=63b2296b-14f7-8909-c543-6d9da88fdb8e, timestamp=1490281490314}]&gt;
2017-03-23 10:04:50,314 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,315 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d08d0cdc-fd9c-174c-ac7b-cfa0735ff01c, timestamp=1490281490301}]&gt;
2017-03-23 10:04:50,315 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,316 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:50.315&gt;
2017-03-23 10:04:50,317 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=63b2296b-14f7-8909-c543-6d9da88fdb8e&gt;
2017-03-23 10:04:50,318 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=63b2296b-14f7-8909-c543-6d9da88fdb8e and created date=2017-03-23 10:04:50.116&gt;
2017-03-23 10:04:50,319 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=63b2296b-14f7-8909-c543-6d9da88fdb8e, timestamp=1490281490314}]&gt;
2017-03-23 10:04:50,328 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,330 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:50,330 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=63b2296b-14f7-8909-c543-6d9da88fdb8e, timestamp=1490281490314}]&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.  Still expecting: 0&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=2, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:50,336 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution complete: StepExecution: id=0, version=7, name=step, status=COMPLETED, exitStatus=COMPLETED, readCount=9, filterCount=0, writeCount=7 readSkipCount=0, writeSkipCount=2, processSkipCount=0, commitCount=5, rollbackCount=0&gt;
2017-03-23 10:04:50,337 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.step with status=COMPLETED&gt;
2017-03-23 10:04:50,338 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.end5&gt;
2017-03-23 10:04:50,338 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.end5 with status=COMPLETED&gt;
2017-03-23 10:04:50,338 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution complete: JobExecution: id=0, version=1, startTime=Thu Mar 23 10:04:50 CDT 2017, endTime=null, lastUpdated=Thu Mar 23 10:04:50 CDT 2017, status=COMPLETED, exitStatus=exitCode=COMPLETED;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=fail, run.id=1}]&gt;
2017-03-23 10:04:50,342  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] completed with the following parameters: [{item.three=fail, run.id=1}] and the following status: [COMPLETED]&gt;
2017-03-23 10:04:50,343  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Closing org.springframework.context.support.GenericApplicationContext@3c65556e: startup date [Thu Mar 23 10:04:49 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:50,344  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 1073741823&gt;
2017-03-23 10:04:50,344  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:50,344  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 0&gt;
2017-03-23 10:04:50,344 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:50,344  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:50,345  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@3c65556e.errorChannel' has 0 subscriber(s).&gt;
2017-03-23 10:04:50,345  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;stopped _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:50,347 DEBUG task-scheduler-6 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:50,348  INFO Test worker [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - &lt;Loading XML bean definitions from class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]&gt;
2017-03-23 10:04:50,433  INFO Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.&gt;
2017-03-23 10:04:50,434 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;The '#jsonPath' SpEL function cannot be registered: there is no jayway json-path.jar on the classpath.&gt;
2017-03-23 10:04:50,435 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;SpEL function '#xpath' isn't registered: there is no spring-integration-xml.jar on the classpath.&gt;
2017-03-23 10:04:50,440  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Refreshing org.springframework.context.support.GenericApplicationContext@786f2cfc: startup date [Thu Mar 23 10:04:50 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:50,486  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'reader' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.TestItemReader]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:50,486  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'chunkWriter' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:50,493  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.&gt;
2017-03-23 10:04:50,493  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.&gt;
2017-03-23 10:04:50,495  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:50,536  INFO Test worker [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - &lt;Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [class org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)&gt;
2017-03-23 10:04:50,539  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:50,565  INFO Test worker [org.springframework.batch.core.repository.support.JobRepositoryFactoryBean] - &lt;No database type set, using meta data indicating: HSQL&gt;
2017-03-23 10:04:50,618  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:50,736  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:50,747 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Converting TaskletStep with name=step&gt;
2017-03-23 10:04:50,748 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [tasklet] from target [TaskletStep: [name=step]]&gt;
2017-03-23 10:04:50,748 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@729dfb34]&gt;
2017-03-23 10:04:50,748 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [itemWriter] from target [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor@4d495a9c]&gt;
2017-03-23 10:04:50,748 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@729dfb34]&gt;
2017-03-23 10:04:50,835  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;No TaskExecutor has been set, defaulting to synchronous executor.&gt;
2017-03-23 10:04:50,843  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:50,888 DEBUG Test worker [org.springframework.integration.config.GlobalChannelInterceptorProcessor] - &lt;No global channel interceptors.&gt;
2017-03-23 10:04:50,969  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 0&gt;
2017-03-23 10:04:50,969  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:50,969  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@786f2cfc.errorChannel' has 1 subscriber(s).&gt;
2017-03-23 10:04:50,969  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;started _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:50,969  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 1073741823&gt;
2017-03-23 10:04:50,970  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;started org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:51,101  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] launched with the following parameters: [{item.three=error}]&gt;
2017-03-23 10:04:51,102 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution starting: JobExecution: id=0, version=0, startTime=null, endTime=null, lastUpdated=Thu Mar 23 10:04:51 CDT 2017, status=STARTING, exitStatus=exitCode=UNKNOWN;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=error}]&gt;
2017-03-23 10:04:51,107 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Resuming state=job.step with status=UNKNOWN&gt;
2017-03-23 10:04:51,107 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.step&gt;
2017-03-23 10:04:51,120  INFO Test worker [org.springframework.batch.core.job.SimpleStepHandler] - &lt;Executing step: [step]&gt;
2017-03-23 10:04:51,121 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Executing: id=0&gt;
2017-03-23 10:04:51,123 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.chunkWriter&gt;
2017-03-23 10:04:51,134 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@3ca6bb10&gt;
2017-03-23 10:04:51,134 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:51,135 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.reader&gt;
2017-03-23 10:04:51,138 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 1&gt;
2017-03-23 10:04:51,139 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 2&gt;
2017-03-23 10:04:51,139 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,139 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a9038748-63ac-88a6-3f2f-e74ff8545660, timestamp=1490281491139}]&gt;
2017-03-23 10:04:51,140 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,142 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a9038748-63ac-88a6-3f2f-e74ff8545660&gt;
2017-03-23 10:04:51,143 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a9038748-63ac-88a6-3f2f-e74ff8545660 and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,144 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a9038748-63ac-88a6-3f2f-e74ff8545660, timestamp=1490281491139}]&gt;
2017-03-23 10:04:51,144 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:51,144 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,146 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=1, name=step, status=STARTED, exitStatus=EXECUTING, readCount=2, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@3ca6bb10&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading error&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 4&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,148 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,150 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:51.149&gt;
2017-03-23 10:04:51,150 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=623333a9-1a5c-0975-5334-0b31b1553e6d&gt;
2017-03-23 10:04:51,151 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=623333a9-1a5c-0975-5334-0b31b1553e6d and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,152 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,152 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:51,152 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,155 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=2, name=step, status=STARTED, exitStatus=EXECUTING, readCount=4, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=2, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:51,156 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,159 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,162 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@3ca6bb10&gt;
2017-03-23 10:04:51,162 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a9038748-63ac-88a6-3f2f-e74ff8545660, timestamp=1490281491139}]&gt;
2017-03-23 10:04:51,162 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:51,162 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a9038748-63ac-88a6-3f2f-e74ff8545660, timestamp=1490281491139}]&gt;
2017-03-23 10:04:51,162 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=a9038748-63ac-88a6-3f2f-e74ff8545660, timestamp=1490281491139}]&gt;
2017-03-23 10:04:51,162 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 5&gt;
2017-03-23 10:04:51,163 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 6&gt;
2017-03-23 10:04:51,163 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,163 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:51,163 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 1&gt;
2017-03-23 10:04:51,163 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 2&gt;
2017-03-23 10:04:51,163 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,163 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,164 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=8303d8c5-4eb0-6762-58e4-baaaa4a4b091, timestamp=1490281491163}]&gt;
2017-03-23 10:04:51,164 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=14efd083-0d1f-f8bb-4499-4ffa61ba457d, timestamp=1490281491164}]&gt;
2017-03-23 10:04:51,165 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,166 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=14efd083-0d1f-f8bb-4499-4ffa61ba457d&gt;
2017-03-23 10:04:51,166 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,167 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=14efd083-0d1f-f8bb-4499-4ffa61ba457d and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,168 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=14efd083-0d1f-f8bb-4499-4ffa61ba457d, timestamp=1490281491164}]&gt;
2017-03-23 10:04:51,169 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=8303d8c5-4eb0-6762-58e4-baaaa4a4b091&gt;
2017-03-23 10:04:51,170 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=8303d8c5-4eb0-6762-58e4-baaaa4a4b091 and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,171 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=8303d8c5-4eb0-6762-58e4-baaaa4a4b091, timestamp=1490281491163}]&gt;
2017-03-23 10:04:51,171 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:51,171 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,172 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=3, name=step, status=STARTED, exitStatus=EXECUTING, readCount=6, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=3, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:51,173 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,174 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@3ca6bb10&gt;
2017-03-23 10:04:51,174 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:51,174 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 7&gt;
2017-03-23 10:04:51,174 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,174 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 8&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:51,175 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: error&gt;
2017-03-23 10:04:51,175 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,176 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Checking for rethrow: count=0&gt;
2017-03-23 10:04:51,176 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Rethrow in retry for policy: count=0&gt;
2017-03-23 10:04:51,176 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=5bfd881b-b128-dd2d-7277-d594a44d77fc, timestamp=1490281491175}]&gt;
2017-03-23 10:04:51,176 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;preSend on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Cannot process message, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}], headers={id=3a2340fc-79a7-c193-a547-4e1e0ebfa6c3, timestamp=1490281491176}]&gt;
2017-03-23 10:04:51,176 DEBUG task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;_org.springframework.integration.errorLogger.handler received message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Cannot process message, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}], headers={id=3a2340fc-79a7-c193-a547-4e1e0ebfa6c3, timestamp=1490281491176}]&gt;
2017-03-23 10:04:51,178 ERROR task-scheduler-1 [org.springframework.integration.handler.LoggingHandler] - &lt;org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Cannot process message, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:96)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: Cannot process message
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:352)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	... 35 more
Caused by: java.lang.Error: Planned failure on: error
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:67)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	... 37 more
&gt;
2017-03-23 10:04:51,178 DEBUG task-scheduler-1 [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;postSend (sent=true) on channel 'errorChannel', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Cannot process message, failedMessage=GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}], headers={id=3a2340fc-79a7-c193-a547-4e1e0ebfa6c3, timestamp=1490281491176}]&gt;
2017-03-23 10:04:51,180 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:51.178&gt;
2017-03-23 10:04:51,180 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=5bfd881b-b128-dd2d-7277-d594a44d77fc&gt;
2017-03-23 10:04:51,181 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=5bfd881b-b128-dd2d-7277-d594a44d77fc and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,182 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=5bfd881b-b128-dd2d-7277-d594a44d77fc, timestamp=1490281491175}]&gt;
2017-03-23 10:04:51,182 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:51,182 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,183 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=4, name=step, status=STARTED, exitStatus=EXECUTING, readCount=8, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=4, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:51,185 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@3ca6bb10&gt;
2017-03-23 10:04:51,185 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:51,185 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 9&gt;
2017-03-23 10:04:51,185 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:51,185 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d5d67a64-5504-3072-4c6d-b9f8170c727b, timestamp=1490281491185}]&gt;
2017-03-23 10:04:51,187 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:51.186&gt;
2017-03-23 10:04:51,188 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d5d67a64-5504-3072-4c6d-b9f8170c727b&gt;
2017-03-23 10:04:51,189 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d5d67a64-5504-3072-4c6d-b9f8170c727b and created date=2017-03-23 10:04:51.14&gt;
2017-03-23 10:04:51,190 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d5d67a64-5504-3072-4c6d-b9f8170c727b, timestamp=1490281491185}]&gt;
2017-03-23 10:04:51,191 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: true&gt;
2017-03-23 10:04:51,191 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=1, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,193 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=5, name=step, status=STARTED, exitStatus=EXECUTING, readCount=9, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:51,195 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution success: id=0&gt;
2017-03-23 10:04:51,196 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for results in step listener...&gt;
2017-03-23 10:04:51,196  INFO Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for 5 results&gt;
2017-03-23 10:04:51,199 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,201 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,201 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=14efd083-0d1f-f8bb-4499-4ffa61ba457d, timestamp=1490281491164}]&gt;
2017-03-23 10:04:51,201 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,252 DEBUG task-scheduler-5 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:51,285 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,286 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,287 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,287 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,287 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=623333a9-1a5c-0975-5334-0b31b1553e6d, timestamp=1490281491148}]&gt;
2017-03-23 10:04:51,287 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,288 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:51,288 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry exhausted after last attempt with no recovery path.&gt;
2017-03-23 10:04:51,288 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor] - &lt;Checking skip policy after failed write&gt;
2017-03-23 10:04:51,288 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Failed chunk&gt;
org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.Error: Planned failure on: error
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.checkSkipPolicy(FaultTolerantChunkProcessor.java:537)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.access$1000(FaultTolerantChunkProcessor.java:52)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$4.recover(FaultTolerantChunkProcessor.java:374)
	at org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate.handleRetryExhausted(BatchRetryTemplate.java:183)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:350)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy47.call(Unknown Source)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.lambda$run$0(AbstractPollingEndpoint.java:340)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$$Lambda$24/791029434.run(Unknown Source)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:53)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor$$Lambda$25/1527022783.run(Unknown Source)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:334)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.Error: Planned failure on: error
	at org.springframework.batch.integration.chunk.TestItemWriter.write(TestItemWriter.java:67)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:175)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:151)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:330)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:286)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:210)
	at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:211)
	at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:389)
	at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:199)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.process(ChunkProcessorChunkHandler.java:107)
	at org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler.handleChunk(ChunkProcessorChunkHandler.java:83)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:113)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:102)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:49)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:347)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:131)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:330)
	at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:336)
	at org.springframework.integration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:155)
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:93)
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:89)
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:133)
	at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:129)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:262)
	at org.springframework.integration.endpoint.AbstractPollingEndpoint$$Lambda$23/837989557.call(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	... 27 more
2017-03-23 10:04:51,289 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=77b96485-0065-6702-077d-aea7437d7046, timestamp=1490281491289}]&gt;
2017-03-23 10:04:51,292 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:51.29&gt;
2017-03-23 10:04:51,292 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=77b96485-0065-6702-077d-aea7437d7046&gt;
2017-03-23 10:04:51,293 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=77b96485-0065-6702-077d-aea7437d7046 and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,294 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=77b96485-0065-6702-077d-aea7437d7046, timestamp=1490281491289}]&gt;
2017-03-23 10:04:51,299 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,299 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,300 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,300 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,301 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=8303d8c5-4eb0-6762-58e4-baaaa4a4b091, timestamp=1490281491163}]&gt;
2017-03-23 10:04:51,301 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=8303d8c5-4eb0-6762-58e4-baaaa4a4b091, timestamp=1490281491163}]&gt;
2017-03-23 10:04:51,301 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=8303d8c5-4eb0-6762-58e4-baaaa4a4b091, timestamp=1490281491163}]&gt;
2017-03-23 10:04:51,301 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false, headers={id=77b96485-0065-6702-077d-aea7437d7046, timestamp=1490281491289}]&gt;
2017-03-23 10:04:51,301 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false&gt;
2017-03-23 10:04:51,301 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,301 ERROR Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Detected error in remote result. Trying to recover 3 outstanding results before completing.&gt;
org.springframework.batch.integration.chunk.AsynchronousFailureException: Failure or interrupt detected in handler: org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.Error: Planned failure on: error
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.getNextResult(ChunkMessageChannelItemWriter.java:243)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.waitForResults(ChunkMessageChannelItemWriter.java:197)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.afterStep(ChunkMessageChannelItemWriter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy41.afterStep(Unknown Source)
	at org.springframework.batch.core.listener.CompositeStepExecutionListener.afterStep(CompositeStepExecutionListener.java:62)
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:239)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)
	at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64)
	at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)
	at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)
	at org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests.testFailedStepOnError(RemoteChunkFaultTolerantStepJdbcIntegrationTests.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:250)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:189)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy3.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:147)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:129)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:51,301 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:51,302 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 5&gt;
2017-03-23 10:04:51,302 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 6&gt;
2017-03-23 10:04:51,303 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,303 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b67b99a8-5427-0d4f-6937-2c0693834fc4, timestamp=1490281491303}]&gt;
2017-03-23 10:04:51,305 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:51.304&gt;
2017-03-23 10:04:51,305 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=b67b99a8-5427-0d4f-6937-2c0693834fc4&gt;
2017-03-23 10:04:51,306 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=b67b99a8-5427-0d4f-6937-2c0693834fc4 and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,307 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b67b99a8-5427-0d4f-6937-2c0693834fc4, timestamp=1490281491303}]&gt;
2017-03-23 10:04:51,310 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,310 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,311 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,311 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=5bfd881b-b128-dd2d-7277-d594a44d77fc, timestamp=1490281491175}]&gt;
2017-03-23 10:04:51,311 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=5bfd881b-b128-dd2d-7277-d594a44d77fc, timestamp=1490281491175}]&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=5bfd881b-b128-dd2d-7277-d594a44d77fc, timestamp=1490281491175}]&gt;
2017-03-23 10:04:51,312 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 7&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 8&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,312 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=b67b99a8-5427-0d4f-6937-2c0693834fc4, timestamp=1490281491303}]&gt;
2017-03-23 10:04:51,312 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d45f5531-d93d-2a37-ffeb-15de3e79dbf8, timestamp=1490281491312}]&gt;
2017-03-23 10:04:51,312 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,314 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:51.313&gt;
2017-03-23 10:04:51,314 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d45f5531-d93d-2a37-ffeb-15de3e79dbf8&gt;
2017-03-23 10:04:51,315 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d45f5531-d93d-2a37-ffeb-15de3e79dbf8 and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,316 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d45f5531-d93d-2a37-ffeb-15de3e79dbf8, timestamp=1490281491312}]&gt;
2017-03-23 10:04:51,318 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,318 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,319 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:51,319 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,319 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d5d67a64-5504-3072-4c6d-b9f8170c727b, timestamp=1490281491185}]&gt;
2017-03-23 10:04:51,319 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d5d67a64-5504-3072-4c6d-b9f8170c727b, timestamp=1490281491185}]&gt;
2017-03-23 10:04:51,319 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@50addc42] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d5d67a64-5504-3072-4c6d-b9f8170c727b, timestamp=1490281491185}]&gt;
2017-03-23 10:04:51,319 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=d45f5531-d93d-2a37-ffeb-15de3e79dbf8, timestamp=1490281491312}]&gt;
2017-03-23 10:04:51,319 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,319 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:51,320 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:51,320 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 9&gt;
2017-03-23 10:04:51,320 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:51,320 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=68fe4096-9e41-c95b-9188-f55fa03907ae, timestamp=1490281491320}]&gt;
2017-03-23 10:04:51,322 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:51.321&gt;
2017-03-23 10:04:51,323 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=68fe4096-9e41-c95b-9188-f55fa03907ae&gt;
2017-03-23 10:04:51,323 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=68fe4096-9e41-c95b-9188-f55fa03907ae and created date=2017-03-23 10:04:51.165&gt;
2017-03-23 10:04:51,324 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=68fe4096-9e41-c95b-9188-f55fa03907ae, timestamp=1490281491320}]&gt;
2017-03-23 10:04:51,328 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,329 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:51,329 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=68fe4096-9e41-c95b-9188-f55fa03907ae, timestamp=1490281491320}]&gt;
2017-03-23 10:04:51,329 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,330 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Detected failure waiting for results in step listener.&gt;
org.springframework.batch.integration.chunk.AsynchronousFailureException: Failure or interrupt detected in handler: org.springframework.retry.RetryException: Non-skippable exception in recoverer; nested exception is java.lang.Error: Planned failure on: error
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.getNextResult(ChunkMessageChannelItemWriter.java:243)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.waitForResults(ChunkMessageChannelItemWriter.java:197)
	at org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter.afterStep(ChunkMessageChannelItemWriter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:133)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:121)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy41.afterStep(Unknown Source)
	at org.springframework.batch.core.listener.CompositeStepExecutionListener.afterStep(CompositeStepExecutionListener.java:62)
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:239)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)
	at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64)
	at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)
	at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)
	at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)
	at org.springframework.batch.integration.chunk.RemoteChunkFaultTolerantStepJdbcIntegrationTests.testFailedStepOnError(RemoteChunkFaultTolerantStepJdbcIntegrationTests.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:250)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:189)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy3.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:147)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:129)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.  Still expecting: 0&gt;
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=false&gt;
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,331 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:51,334 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution complete: StepExecution: id=0, version=7, name=step, status=FAILED, exitStatus=FAILED, readCount=9, filterCount=0, writeCount=7 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0&gt;
2017-03-23 10:04:51,335 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.step with status=FAILED&gt;
2017-03-23 10:04:51,335 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.fail6&gt;
2017-03-23 10:04:51,335 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.fail6 with status=FAILED&gt;
2017-03-23 10:04:51,335 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution complete: JobExecution: id=0, version=1, startTime=Thu Mar 23 10:04:51 CDT 2017, endTime=null, lastUpdated=Thu Mar 23 10:04:51 CDT 2017, status=FAILED, exitStatus=exitCode=FAILED;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=error}]&gt;
2017-03-23 10:04:51,337  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] completed with the following parameters: [{item.three=error}] and the following status: [FAILED]&gt;
2017-03-23 10:04:51,338  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Closing org.springframework.context.support.GenericApplicationContext@786f2cfc: startup date [Thu Mar 23 10:04:50 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 1073741823&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:51,339 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 0&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@786f2cfc.errorChannel' has 0 subscriber(s).&gt;
2017-03-23 10:04:51,339  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;stopped _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:51,341  INFO Test worker [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - &lt;Loading XML bean definitions from class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]&gt;
2017-03-23 10:04:51,361 DEBUG task-scheduler-7 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:51,411  INFO Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.&gt;
2017-03-23 10:04:51,411 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;The '#jsonPath' SpEL function cannot be registered: there is no jayway json-path.jar on the classpath.&gt;
2017-03-23 10:04:51,412 DEBUG Test worker [org.springframework.integration.config.IntegrationRegistrar] - &lt;SpEL function '#xpath' isn't registered: there is no spring-integration-xml.jar on the classpath.&gt;
2017-03-23 10:04:51,416  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Refreshing org.springframework.context.support.GenericApplicationContext@49d86bc: startup date [Thu Mar 23 10:04:51 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:51,451  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'reader' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.TestItemReader]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:51,451  INFO Test worker [org.springframework.beans.factory.support.DefaultListableBeanFactory] - &lt;Overriding bean definition for bean 'chunkWriter' with a different definition: replacing [Generic bean: class [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter]; scope=step; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/batch/integration/chunk/RemoteChunkFaultTolerantStepJdbcIntegrationTests-context.xml]]&gt;
2017-03-23 10:04:51,459  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.&gt;
2017-03-23 10:04:51,459  INFO Test worker [org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor] - &lt;No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.&gt;
2017-03-23 10:04:51,462  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:51,517  INFO Test worker [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - &lt;Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [class org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)&gt;
2017-03-23 10:04:51,520  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:51,549  INFO Test worker [org.springframework.batch.core.repository.support.JobRepositoryFactoryBean] - &lt;No database type set, using meta data indicating: HSQL&gt;
2017-03-23 10:04:51,599  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:51,711  WARN Test worker [org.springframework.integration.store.MessageGroupQueue] - &lt;JdbcMessageStore is not optimized for use in a 'MessageGroupQueue'; consider using a `ChannelMessageStore'&gt;
2017-03-23 10:04:51,720 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Converting TaskletStep with name=step&gt;
2017-03-23 10:04:51,720 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [tasklet] from target [TaskletStep: [name=step]]&gt;
2017-03-23 10:04:51,720 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@b8c8f50]&gt;
2017-03-23 10:04:51,721 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [itemWriter] from target [org.springframework.batch.core.step.item.FaultTolerantChunkProcessor@514f9a5e]&gt;
2017-03-23 10:04:51,721 DEBUG Test worker [org.springframework.batch.integration.chunk.RemoteChunkHandlerFactoryBean] - &lt;Getting field [chunkProcessor] from target [org.springframework.batch.core.step.item.ChunkOrientedTasklet@b8c8f50]&gt;
2017-03-23 10:04:51,788  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;No TaskExecutor has been set, defaulting to synchronous executor.&gt;
2017-03-23 10:04:51,797  INFO Test worker [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - &lt;JSR-330 'javax.inject.Inject' annotation found and supported for autowiring&gt;
2017-03-23 10:04:51,832 DEBUG Test worker [org.springframework.integration.config.GlobalChannelInterceptorProcessor] - &lt;No global channel interceptors.&gt;
2017-03-23 10:04:51,886  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 0&gt;
2017-03-23 10:04:51,886  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:51,886  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@49d86bc.errorChannel' has 1 subscriber(s).&gt;
2017-03-23 10:04:51,886  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;started _org.springframework.integration.errorLogger&gt;
2017-03-23 10:04:51,886  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Starting beans in phase 1073741823&gt;
2017-03-23 10:04:51,887  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;started org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:52,011  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] launched with the following parameters: [{item.three=3}]&gt;
2017-03-23 10:04:52,011 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution starting: JobExecution: id=0, version=0, startTime=null, endTime=null, lastUpdated=Thu Mar 23 10:04:52 CDT 2017, status=STARTING, exitStatus=exitCode=UNKNOWN;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=3}]&gt;
2017-03-23 10:04:52,014 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Resuming state=job.step with status=UNKNOWN&gt;
2017-03-23 10:04:52,014 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.step&gt;
2017-03-23 10:04:52,023  INFO Test worker [org.springframework.batch.core.job.SimpleStepHandler] - &lt;Executing step: [step]&gt;
2017-03-23 10:04:52,023 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Executing: id=0&gt;
2017-03-23 10:04:52,027 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.chunkWriter&gt;
2017-03-23 10:04:52,034 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@7960c7c4&gt;
2017-03-23 10:04:52,034 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:52,035 DEBUG Test worker [org.springframework.batch.core.scope.StepScope] - &lt;Creating object in scope=step, name=scopedTarget.reader&gt;
2017-03-23 10:04:52,038 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 1&gt;
2017-03-23 10:04:52,038 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 2&gt;
2017-03-23 10:04:52,038 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,038 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=3c31229e-4c4d-832c-a7d8-385672c4c051, timestamp=1490281492038}]&gt;
2017-03-23 10:04:52,040 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,041 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=3c31229e-4c4d-832c-a7d8-385672c4c051&gt;
2017-03-23 10:04:52,041 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=3c31229e-4c4d-832c-a7d8-385672c4c051 and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,042 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=3c31229e-4c4d-832c-a7d8-385672c4c051, timestamp=1490281492038}]&gt;
2017-03-23 10:04:52,043 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:52,043 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,044 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=1, name=step, status=STARTED, exitStatus=EXECUTING, readCount=2, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:52,046 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@7960c7c4&gt;
2017-03-23 10:04:52,046 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:52,046 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 3&gt;
2017-03-23 10:04:52,046 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 4&gt;
2017-03-23 10:04:52,047 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,047 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=7948f669-77f5-96f5-4eb9-848d3b6090d2, timestamp=1490281492047}]&gt;
2017-03-23 10:04:52,049 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:52.048&gt;
2017-03-23 10:04:52,049 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=7948f669-77f5-96f5-4eb9-848d3b6090d2&gt;
2017-03-23 10:04:52,050 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=7948f669-77f5-96f5-4eb9-848d3b6090d2 and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,051 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=7948f669-77f5-96f5-4eb9-848d3b6090d2, timestamp=1490281492047}]&gt;
2017-03-23 10:04:52,051 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:52,051 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,053 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=2, name=step, status=STARTED, exitStatus=EXECUTING, readCount=4, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=2, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:52,054 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,054 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@7960c7c4&gt;
2017-03-23 10:04:52,054 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:52,055 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 5&gt;
2017-03-23 10:04:52,055 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 6&gt;
2017-03-23 10:04:52,055 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,055 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=01ee97b8-37f2-0510-1b45-21a406f0e22b, timestamp=1490281492055}]&gt;
2017-03-23 10:04:52,056 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,056 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=3c31229e-4c4d-832c-a7d8-385672c4c051, timestamp=1490281492038}]&gt;
2017-03-23 10:04:52,056 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=3c31229e-4c4d-832c-a7d8-385672c4c051, timestamp=1490281492038}]&gt;
2017-03-23 10:04:52,056 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@64e46dfc] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=3c31229e-4c4d-832c-a7d8-385672c4c051, timestamp=1490281492038}]&gt;
2017-03-23 10:04:52,057 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=0, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,057 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:52,057 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 1&gt;
2017-03-23 10:04:52,057 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 2&gt;
2017-03-23 10:04:52,057 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,058 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1c5b5585-f74d-eb06-703c-2e615570b7b3, timestamp=1490281492058}]&gt;
2017-03-23 10:04:52,059 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Creating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,059 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1c5b5585-f74d-eb06-703c-2e615570b7b3&gt;
2017-03-23 10:04:52,060 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=1c5b5585-f74d-eb06-703c-2e615570b7b3 and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,061 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:52.057&gt;
2017-03-23 10:04:52,061 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1c5b5585-f74d-eb06-703c-2e615570b7b3, timestamp=1490281492058}]&gt;
2017-03-23 10:04:52,062 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=01ee97b8-37f2-0510-1b45-21a406f0e22b&gt;
2017-03-23 10:04:52,063 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=01ee97b8-37f2-0510-1b45-21a406f0e22b and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,064 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=01ee97b8-37f2-0510-1b45-21a406f0e22b, timestamp=1490281492055}]&gt;
2017-03-23 10:04:52,064 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:52,065 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,065 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=3, name=step, status=STARTED, exitStatus=EXECUTING, readCount=6, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=3, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:52,067 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,067 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@7960c7c4&gt;
2017-03-23 10:04:52,067 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:52,067 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 7&gt;
2017-03-23 10:04:52,068 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 8&gt;
2017-03-23 10:04:52,068 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,068 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,068 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=55c401c2-8c2d-05a6-fd2d-7f7955cf728a, timestamp=1490281492068}]&gt;
2017-03-23 10:04:52,068 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=7948f669-77f5-96f5-4eb9-848d3b6090d2, timestamp=1490281492047}]&gt;
2017-03-23 10:04:52,068 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=7948f669-77f5-96f5-4eb9-848d3b6090d2, timestamp=1490281492047}]&gt;
2017-03-23 10:04:52,068 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@64e46dfc] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=7948f669-77f5-96f5-4eb9-848d3b6090d2, timestamp=1490281492047}]&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=1, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 3&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 4&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,069 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=a61f57b0-8985-8ac1-8a23-f3a752941cfa, timestamp=1490281492069}]&gt;
2017-03-23 10:04:52,070 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:52.069&gt;
2017-03-23 10:04:52,070 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:52.07&gt;
2017-03-23 10:04:52,071 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a61f57b0-8985-8ac1-8a23-f3a752941cfa&gt;
2017-03-23 10:04:52,071 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=a61f57b0-8985-8ac1-8a23-f3a752941cfa and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,072 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=a61f57b0-8985-8ac1-8a23-f3a752941cfa, timestamp=1490281492069}]&gt;
2017-03-23 10:04:52,072 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=55c401c2-8c2d-05a6-fd2d-7f7955cf728a&gt;
2017-03-23 10:04:52,073 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=55c401c2-8c2d-05a6-fd2d-7f7955cf728a and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,075 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=55c401c2-8c2d-05a6-fd2d-7f7955cf728a, timestamp=1490281492068}]&gt;
2017-03-23 10:04:52,075 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: false&gt;
2017-03-23 10:04:52,076 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=2, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,076 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,077 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=4, name=step, status=STARTED, exitStatus=EXECUTING, readCount=8, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=4, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:52,077 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,081 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Preparing chunk execution for StepContext: org.springframework.batch.core.scope.context.StepContext@7960c7c4&gt;
2017-03-23 10:04:52,081 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=01ee97b8-37f2-0510-1b45-21a406f0e22b, timestamp=1490281492055}]&gt;
2017-03-23 10:04:52,082 DEBUG Test worker [org.springframework.batch.core.scope.context.StepContextRepeatCallback] - &lt;Chunk execution starting: queue size=0&gt;
2017-03-23 10:04:52,082 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=01ee97b8-37f2-0510-1b45-21a406f0e22b, timestamp=1490281492055}]&gt;
2017-03-23 10:04:52,082 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@64e46dfc] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=01ee97b8-37f2-0510-1b45-21a406f0e22b, timestamp=1490281492055}]&gt;
2017-03-23 10:04:52,082 DEBUG Test worker [org.springframework.batch.integration.chunk.TestItemReader] - &lt;Reading 9&gt;
2017-03-23 10:04:52,082 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=2, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,082 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Dispatching chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:52,082 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:52,083 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 5&gt;
2017-03-23 10:04:52,083 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d2a82be4-d050-1600-f2d6-13a26c0a7aff, timestamp=1490281492082}]&gt;
2017-03-23 10:04:52,083 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 6&gt;
2017-03-23 10:04:52,083 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,083 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=12c85082-6c1c-f7b9-72b3-04648be2a47c, timestamp=1490281492083}]&gt;
2017-03-23 10:04:52,084 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:52.083&gt;
2017-03-23 10:04:52,085 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=12c85082-6c1c-f7b9-72b3-04648be2a47c&gt;
2017-03-23 10:04:52,085 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=70be40b2-af8f-373b-b315-6da0c5f5287f and updated date=2017-03-23 10:04:52.084&gt;
2017-03-23 10:04:52,086 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=12c85082-6c1c-f7b9-72b3-04648be2a47c and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,087 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=12c85082-6c1c-f7b9-72b3-04648be2a47c, timestamp=1490281492083}]&gt;
2017-03-23 10:04:52,088 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d2a82be4-d050-1600-f2d6-13a26c0a7aff&gt;
2017-03-23 10:04:52,097 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=d2a82be4-d050-1600-f2d6-13a26c0a7aff and created date=2017-03-23 10:04:52.039&gt;
2017-03-23 10:04:52,099 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d2a82be4-d050-1600-f2d6-13a26c0a7aff, timestamp=1490281492082}]&gt;
2017-03-23 10:04:52,099 DEBUG Test worker [org.springframework.batch.core.step.item.ChunkOrientedTasklet] - &lt;Inputs not busy, ended: true&gt;
2017-03-23 10:04:52,099 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Applying contribution: [StepContribution: read=1, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,100 DEBUG Test worker [org.springframework.batch.core.step.tasklet.TaskletStep] - &lt;Saving step execution before commit: StepExecution: id=0, version=5, name=step, status=STARTED, exitStatus=EXECUTING, readCount=9, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0, exitDescription=&gt;
2017-03-23 10:04:52,101 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,102 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,102 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution success: id=0&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=55c401c2-8c2d-05a6-fd2d-7f7955cf728a, timestamp=1490281492068}]&gt;
2017-03-23 10:04:52,103 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for results in step listener...&gt;
2017-03-23 10:04:52,103  INFO Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Waiting for 5 results&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=55c401c2-8c2d-05a6-fd2d-7f7955cf728a, timestamp=1490281492068}]&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@64e46dfc] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2, headers={id=55c401c2-8c2d-05a6-fd2d-7f7955cf728a, timestamp=1490281492068}]&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=3, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=2&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 7&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 8&gt;
2017-03-23 10:04:52,103 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,104 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=f33e2705-9efc-cae6-2327-8ac0908015bd, timestamp=1490281492104}]&gt;
2017-03-23 10:04:52,107 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,109 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,110 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=1c5b5585-f74d-eb06-703c-2e615570b7b3, timestamp=1490281492058}]&gt;
2017-03-23 10:04:52,110 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,111 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:52.111&gt;
2017-03-23 10:04:52,112 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f33e2705-9efc-cae6-2327-8ac0908015bd&gt;
2017-03-23 10:04:52,113 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=f33e2705-9efc-cae6-2327-8ac0908015bd and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,114 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=f33e2705-9efc-cae6-2327-8ac0908015bd, timestamp=1490281492104}]&gt;
2017-03-23 10:04:52,118 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,119 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,119 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: 70be40b2-af8f-373b-b315-6da0c5f5287f&gt;
2017-03-23 10:04:52,119 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'requests', message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d2a82be4-d050-1600-f2d6-13a26c0a7aff, timestamp=1490281492082}]&gt;
2017-03-23 10:04:52,119 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Poll resulted in Message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d2a82be4-d050-1600-f2d6-13a26c0a7aff, timestamp=1490281492082}]&gt;
2017-03-23 10:04:52,119 DEBUG task-scheduler-1 [org.springframework.integration.handler.ServiceActivatingHandler] - &lt;ServiceActivator for [org.springframework.integration.handler.MethodInvokingMessageProcessor@64e46dfc] (org.springframework.integration.config.ServiceActivatorFactoryBean#0) received message: GenericMessage [payload=ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1, headers={id=d2a82be4-d050-1600-f2d6-13a26c0a7aff, timestamp=1490281492082}]&gt;
2017-03-23 10:04:52,119 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Handling chunk: ChunkRequest: jobId=0, sequence=4, contribution=[StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], item count=1&gt;
2017-03-23 10:04:52,120 DEBUG task-scheduler-1 [org.springframework.batch.core.step.item.BatchRetryTemplate$InnerRetryTemplate] - &lt;Retry: count=0&gt;
2017-03-23 10:04:52,120 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.TestItemWriter] - &lt;Writing: 9&gt;
2017-03-23 10:04:52,120 DEBUG task-scheduler-1 [org.springframework.batch.integration.chunk.ChunkProcessorChunkHandler] - &lt;Completed chunk handling with [StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]&gt;
2017-03-23 10:04:52,120 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,120 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;preSend on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=7ebf4efa-353f-3d30-c508-7607cc67e87d, timestamp=1490281492120}]&gt;
2017-03-23 10:04:52,120 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=a61f57b0-8985-8ac1-8a23-f3a752941cfa, timestamp=1490281492069}]&gt;
2017-03-23 10:04:52,120 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,122 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating message group with id key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a and updated date=2017-03-23 10:04:52.121&gt;
2017-03-23 10:04:52,122 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=7ebf4efa-353f-3d30-c508-7607cc67e87d&gt;
2017-03-23 10:04:52,123 DEBUG task-scheduler-1 [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Inserting message with id key=7ebf4efa-353f-3d30-c508-7607cc67e87d and created date=2017-03-23 10:04:52.058&gt;
2017-03-23 10:04:52,124 DEBUG task-scheduler-1 [org.springframework.integration.channel.QueueChannel] - &lt;postSend (sent=true) on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=7ebf4efa-353f-3d30-c508-7607cc67e87d, timestamp=1490281492120}]&gt;
2017-03-23 10:04:52,127 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,128 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,129 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=12c85082-6c1c-f7b9-72b3-04648be2a47c, timestamp=1490281492083}]&gt;
2017-03-23 10:04:52,129 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,132 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,133 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,134 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=f33e2705-9efc-cae6-2327-8ac0908015bd, timestamp=1490281492104}]&gt;
2017-03-23 10:04:52,134 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,137 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Removing messages from group with group key=c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.integration.jdbc.JdbcMessageStore] - &lt;Updating MessageGroup: c9f3ddca-4cd6-3dde-9f7c-2feb066f608a&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.integration.channel.QueueChannel] - &lt;postReceive on channel 'replies', message: GenericMessage [payload=ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true, headers={id=7ebf4efa-353f-3d30-c508-7607cc67e87d, timestamp=1490281492120}]&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Found result: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Finished waiting for results in step listener.  Still expecting: 0&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=0, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=1, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=2, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=3, stepContribution=[StepContribution: read=0, written=2, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,138 DEBUG Test worker [org.springframework.batch.integration.chunk.ChunkMessageChannelItemWriter] - &lt;Applying: ChunkResponse: jobId=0, sequence=4, stepContribution=[StepContribution: read=0, written=1, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING], successful=true&gt;
2017-03-23 10:04:52,142 DEBUG Test worker [org.springframework.batch.core.step.AbstractStep] - &lt;Step execution complete: StepExecution: id=0, version=7, name=step, status=COMPLETED, exitStatus=COMPLETED, readCount=9, filterCount=0, writeCount=9 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=5, rollbackCount=0&gt;
2017-03-23 10:04:52,143 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.step with status=COMPLETED&gt;
2017-03-23 10:04:52,143 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Handling state=job.end9&gt;
2017-03-23 10:04:52,143 DEBUG Test worker [org.springframework.batch.core.job.flow.support.SimpleFlow] - &lt;Completed state=job.end9 with status=COMPLETED&gt;
2017-03-23 10:04:52,144 DEBUG Test worker [org.springframework.batch.core.job.AbstractJob] - &lt;Job execution complete: JobExecution: id=0, version=1, startTime=Thu Mar 23 10:04:52 CDT 2017, endTime=null, lastUpdated=Thu Mar 23 10:04:52 CDT 2017, status=COMPLETED, exitStatus=exitCode=COMPLETED;exitDescription=, job=[JobInstance: id=0, version=0, Job=[job]], jobParameters=[{item.three=3}]&gt;
2017-03-23 10:04:52,147  INFO Test worker [org.springframework.batch.core.launch.support.SimpleJobLauncher] - &lt;Job: [FlowJob: [name=job]] completed with the following parameters: [{item.three=3}] and the following status: [COMPLETED]&gt;
2017-03-23 10:04:52,148  INFO Test worker [org.springframework.context.support.GenericApplicationContext] - &lt;Closing org.springframework.context.support.GenericApplicationContext@49d86bc: startup date [Thu Mar 23 10:04:51 CDT 2017]; root of context hierarchy&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 1073741823&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.integration.endpoint.PollingConsumer] - &lt;stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.context.support.DefaultLifecycleProcessor] - &lt;Stopping beans in phase 0&gt;
2017-03-23 10:04:52,149 DEBUG task-scheduler-1 [org.springframework.integration.endpoint.PollingConsumer] - &lt;Received no Message during the poll, returning 'false'&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.integration.channel.PublishSubscribeChannel] - &lt;Channel 'org.springframework.context.support.GenericApplicationContext@49d86bc.errorChannel' has 0 subscriber(s).&gt;
2017-03-23 10:04:52,149  INFO Test worker [org.springframework.integration.endpoint.EventDrivenConsumer] - &lt;stopped _org.springframework.integration.errorLogger&gt;
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 3.4</a> at Mar 23, 2017 10:05:30 AM</p>
</div>
</div>
</body>
</html>
